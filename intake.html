<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>E-LegalBoom | Document Intake</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f6f7;
      padding: 40px;
    }
    .card {
      background: #fdecec;
      padding: 20px;
      border-radius: 6px;
      max-width: 700px;
    }
    .label {
      font-weight: bold;
    }
    .value {
      margin-bottom: 10px;
    }
    button {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h1>Document Intake</h1>

<div class="card">
  <div class="value"><span class="label">Document Type:</span> <span id="docType"></span></div>
  <div class="value"><span class="label">Tier:</span> <span id="tier"></span></div>
  <div class="value"><span class="label">Price:</span> $<span id="price"></span></div>
</div>

<button id="continueBtn">Continue to Review & Pay</button>

<script>
  // ==============================
  // URL PARAM READER (AUTHORITATIVE)
  // ==============================
  const params = new URLSearchParams(window.location.search);

  const doc_type = params.get("doc_type");
  const tier = params.get("tier");
  const price = params.get("price");

  // Render immediately (no guards, no redirects)
  document.getElementById("docType").textContent = doc_type || "";
  document.getElementById("tier").textContent = tier || "";
  document.getElementById("price").textContent = price || "";

  // ==============================
  // CONTINUE
  // ==============================
  document.getElementById("continueBtn").onclick = () => {
    const query =
      `doc_type=${encodeURIComponent(doc_type || "")}` +
      `&tier=${encodeURIComponent(tier || "")}` +
      `&price=${encodeURIComponent(price || "")}`;

    window.location.href = `review-and-pay.html?${query}`;
  };
</script>

</body>
</html>
