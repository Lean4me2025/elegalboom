<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>E-LegalBoom Catalog</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f4f6fb;
  margin:0;
  padding:20px;
}

h1 {
  text-align:center;
  margin-bottom:30px;
}

/* ===== Layout ===== */

.catalog-wrapper {
  max-width:1400px;
  margin:auto;
}

.catalog-grid {
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:20px;
}

.tier-card {
  background:white;
  border-radius:10px;
  padding:15px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  display:flex;
  flex-direction:column;
}

.tier-header {
  background:#2563eb;
  color:white;
  padding:10px;
  border-radius:8px;
  text-align:center;
  font-weight:bold;
  margin-bottom:8px;
}

/* ===== Help Text ===== */

.tier-help {
  font-size:13px;
  color:#666;
  text-align:center;
  margin-bottom:12px;
}

/* ===== Document Options ===== */

.doc-option {
  border:1px solid #ccc;
  padding:8px;
  margin:5px 0;
  border-radius:6px;
  cursor:pointer;
  font-size:14px;
}

.doc-option:hover {
  background:#eef2ff;
}

.doc-option.selected {
  background:#2563eb;
  color:white;
}

/* ===== Summary Section ===== */

.summary-section {
  max-width:700px;
  margin:40px auto 0 auto;
  background:white;
  padding:20px;
  border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  text-align:center;
}

button {
  margin-top:15px;
  padding:10px 20px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
}
</style>
</head>

<body>

<h1>Select Your Legal Document</h1>

<div class="catalog-wrapper">

<div id="catalog" class="catalog-grid"></div>

<div class="summary-section">
<h3>Selection Summary</h3>
<div id="summary">No selection yet.</div>
<button onclick="continueToIntake()">Continue</button>
</div>

</div>

<script>

const MAX_TIER4 = 3;

const tiers = [
{
tier_name:"Tier 1 — Core Personal & Business",
tier_price:39,
help:"Best for essential personal and basic business protection documents.",
docs:[
{label:"Promissory Note",doc_type:"PROMISSORY_NOTE"},
{label:"Non-Disclosure Agreement",doc_type:"NDA"},
{label:"Independent Contractor Agreement",doc_type:"INDEPENDENT_CONTRACTOR"},
{label:"Bill of Sale",doc_type:"BILL_OF_SALE"}
]
},
{
tier_name:"Tier 2 — Business Formation & Operations",
tier_price:59,
help:"Best for creating and managing structured business operations.",
docs:[
{label:"Operating Agreement (LLC)",doc_type:"LLC_OPERATING"},
{label:"Partnership Agreement",doc_type:"PARTNERSHIP"},
{label:"Business Loan Agreement",doc_type:"BUSINESS_LOAN"},
{label:"Service Agreement",doc_type:"SERVICE_AGREEMENT"}
]
},
{
tier_name:"Tier 3 — Employment, Real Estate & Advanced",
tier_price:99,
help:"Best for employment agreements and real estate legal protection.",
docs:[
{label:"Employment Agreement",doc_type:"EMPLOYMENT"},
{label:"Residential Lease Agreement",doc_type:"RESIDENTIAL_LEASE"},
{label:"Commercial Lease Agreement",doc_type:"COMMERCIAL_LEASE"},
{label:"Non-Compete Agreement",doc_type:"NON_COMPETE"}
]
},
{
tier_name:"Tier 4 — Entrepreneur Package",
tier_price:149,
help:"Designed for growing businesses needing multiple protections. Choose up to 3 documents and save compared to purchasing individually.",
docs:[
{label:"Choose up to 3 documents",doc_type:"TIER4_MULTI"}
]
}
];

let selectedOrder=null;
let tier4Selections=[];

function buildCatalog(){
const container=document.getElementById("catalog");

tiers.forEach(tier=>{

const card=document.createElement("div");
card.className="tier-card";

/* Header */
const header=document.createElement("div");
header.className="tier-header";
header.textContent=`${tier.tier_name} — $${tier.tier_price}`;
card.appendChild(header);

/* Help Text */
const help=document.createElement("div");
help.className="tier-help";
help.textContent=tier.help;
card.appendChild(help);

/* Documents */
tier.docs.forEach(doc=>{

const option=document.createElement("div");
option.className="doc-option";
option.textContent=doc.label;

option.onclick=()=>{

if(tier.tier_name!=="Tier 4"){

document.querySelectorAll(".doc-option").forEach(el=>el.classList.remove("selected"));
option.classList.add("selected");

selectedOrder={
tier_name:tier.tier_name,
tier_price:tier.tier_price,
doc_type:doc.doc_type
};

}else{

const code=prompt("Enter document type code (example: NDA)");
if(!code) return;

if(tier4Selections.length>=MAX_TIER4){
alert("Maximum 3 documents allowed.");
return;
}

tier4Selections.push(code);

selectedOrder={
tier_name:tier.tier_name,
tier_price:tier.tier_price,
doc_types:tier4Selections
};

}

updateSummary();
};

card.appendChild(option);
});

container.appendChild(card);
});
}

function updateSummary(){

const s=document.getElementById("summary");


s.innerHTML=`<b>${selectedOrder.tier_name}</b><br>$${selectedOrder.tier_price}<br>${selectedOrder.doc_type}`;
}


}
function continueToIntake(){

if(!selectedOrder){
alert("Select a document first.");
return;
}

sessionStorage.setItem("elegal_selected_order",JSON.stringify(selectedOrder));
window.location.href="intake.html";
}

document.addEventListener("DOMContentLoaded",buildCatalog);

</script>

</body>
</html>
