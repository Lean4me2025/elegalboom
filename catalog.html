<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Catalog / Tier Selection</title>
</head>

<body>

  <!-- 
    YOUR EXISTING CATALOG UI GOES HERE 
    (cards, buttons, tiers, layout — unchanged)
  -->

  <!-- Example buttons ONLY if you need them -->
  <!--
  <button onclick="selectDoc(1)">LLC Operating Agreement</button>
  <button onclick="selectDoc(2)">Promissory Note</button>
  <button onclick="selectDoc(3)">NDA</button>
  <button onclick="selectDoc(4)">Consulting Agreement</button>
  -->

  <button id="continueBtn">Continue</button>

  <!-- =======================
       CATALOG LOGIC (SAFE)
       ======================= -->
  <script>
    /* =========================================
       Catalog / Tier Page – Document Plumbing
       ONE FILE – SAFE – NO UI CHANGES
       ========================================= */

    // Canonical document registry
    const DOCUMENTS = {
      1: { name: 'llc_operating_agreement' },
      2: { name: 'promissory_note' },
      3: { name: 'nda' },
      4: { name: 'consulting_agreement' }
    };

    // Holds selected document code
    let selectedDocCode = null;

    // Called by your existing UI selection logic
    window.selectDoc = function (docCode) {
      if (!DOCUMENTS[docCode]) {
        console.error('Invalid document code:', docCode);
        return;
      }
      selectedDocCode = docCode;
      console.log('Document selected:', docCode, DOCUMENTS[docCode].name);
    };

    // Continue button behavior
    document.addEventListener('DOMContentLoaded', function () {
      const continueBtn = document.getElementById('continueBtn');

      if (!continueBtn) {
        console.error('Continue button not found');
        return;
      }

      continueBtn.addEventListener('click', function () {
        if (selectedDocCode === null) {
          alert('Please select a document to continue.');
          return;
        }

        const doc = DOCUMENTS[selectedDocCode];

        // Store ONLY what intake needs
        sessionStorage.setItem('doc_code', String(selectedDocCode));
        sessionStorage.setItem('doc_name', doc.name);

        // Move forward cleanly
        window.location.href = 'intake.html';
      });
    });
  </script>

</body>
</html>
