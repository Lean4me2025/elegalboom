<script>
  // READ FROM URL ONLY — NO GUARDS, NO STORAGE, NO REDIRECTS

  const params = new URLSearchParams(window.location.search);

  const tier = params.get("tier");
  const doc  = params.get("doc");

  const PRICES = {
    "1": 39,
    "2": 59,
    "3": 399,
    "4": 0
  };

  const price = PRICES[tier] ?? 0;

  document.getElementById("tier").textContent =
    tier ? `Tier ${tier}` : "—";

  document.getElementById("doc").textContent =
    doc ? decodeURIComponent(doc) : "—";

  document.getElementById("price").textContent =
    `$${price.toFixed(2)}`;

  // Cosmetic only — NOT authoritative
  document.getElementById("orderId").textContent =
    crypto.randomUUID().slice(0, 8);

  document.getElementById("continue").onclick = () => {
    window.location.href =
      `intake.html?tier=${tier ?? ""}&doc=${encodeURIComponent(doc ?? "")}&price=${price}`;
  };
</script>
