<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>E-LegalBoom | My Orders</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: system-ui, sans-serif;
  background: #f4f6fb;
  padding: 20px;
}

h1 { text-align: center; }

.order-card {
  background: white;
  padding: 16px;
  border-radius: 8px;
  margin-bottom: 12px;
  box-shadow: 0 3px 10px rgba(0,0,0,.08);
}

.admin-box {
  display: none;
  text-align: center;
  margin-top: 20px;
}

button {
  padding: 10px 14px;
  border: none;
  background: #0f766e;
  color: white;
  border-radius: 14px;
  cursor: pointer;
}

button:hover {
  opacity: .9;
}
</style>
</head>

<body>

<h1>My Orders</h1>

<div id="order-list"></div>

<div class="admin-box" id="admin-access">
  <button onclick="location.href='admin.html'">Admin Panel</button>
</div>

<script>
// ------------------
// LOAD ORDERS
// ------------------
const orders = JSON.parse(localStorage.getItem("elegalboom_orders") || "[]");
const list = document.getElementById("order-list");

if (orders.length === 0) {
  list.innerHTML = "<p>No orders yet.</p>";
} else {
  orders.forEach(o => {
    const div = document.createElement("div");
    div.className = "order-card";
    div.innerHTML = `
      <strong>${o.firstName} ${o.lastName}</strong><br>
      ${o.email}<br>
      ${o.phone || ""}<br>
      ${o.businessName || ""}<br>
      State: ${o.state}<br>
      Tier: ${o.tier}<br>
      Document: ${o.doc}<br>
      Notes: ${o.notes || ""}
    `;
    list.appendChild(div);
  });
}

// ------------------
// ADMIN SYSTEM
// ------------------
const ADMIN_CODE = "2468";
const ADMIN_KEY = "elegalboom_admin_unlock";

if (localStorage.getItem(ADMIN_KEY) === "true") {
  showAdmin();
}

document.addEventListener("keydown", function(e) {
  if (e.altKey && e.key.toLowerCase() === "a") {
    const code = prompt("Enter Admin Code:");
    if (code === ADMIN_CODE) {
      localStorage.setItem(ADMIN_KEY, "true");
      showAdmin();
      alert("Admin unlocked");
    } else {
      alert("Wrong code");
    }
  }
});

function showAdmin() {
  document.getElementById("admin-access").style.display = "block";
}
</script>

</body>
</html>
